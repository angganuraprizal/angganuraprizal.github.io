const qs=document.querySelector.bind(document),easingHeart=mojs.easing.path("M0,100C2.9,86.7,33.6-7.3,46-7.3s15.2,22.7,26,22.7S89,0,100,0"),el={container:qs(".mo-container"),i:qs(".lttr--I"),l:qs(".lttr--L"),o:qs(".lttr--O"),v:qs(".lttr--V"),e:qs(".lttr--E"),y:qs(".lttr--Y"),o2:qs(".lttr--O2"),u:qs(".lttr--U"),lineLeft:qs(".line--left"),lineRight:qs(".line--rght"),colTxt:"#763c8c",colHeart:"#fa4843",blup:qs(".blup"),blop:qs(".blop"),sound:qs(".sound")};class Heart extends mojs.CustomShape{getShape(){return'<path d="M50,88.9C25.5,78.2,0.5,54.4,3.8,31.1S41.3,1.8,50,29.9c8.7-28.2,42.8-22.2,46.2,1.2S74.5,78.2,50,88.9z"/>'}getLength(){return 200}}mojs.addShape("heart",Heart);const crtBoom=(e=0,t=0,n=46)=>{parent=el.container;return[new mojs.Shape({shape:"circle",fill:"none",stroke:el.colTxt,strokeWidth:{5:0},radius:{[n]:[n+20]},easing:"quint.out",duration:500/3,parent:parent,delay:e,x:t}),new mojs.Burst({radius:{[n+15]:110},angle:"rand(60, 180)",count:3,timeline:{delay:e},parent:parent,x:t,children:{radius:[5,3,7],fill:el.colTxt,scale:{1:0,easing:"quad.in"},pathScale:[.8,null],degreeShift:["rand(13, 60)",null],duration:1e3/3,easing:"quint.out"}})]},crtLoveTl=()=>{const e=1e3,t=200,n="sin.inOut",o="sin.in",l="sin.out",a={duration:e,easing:n,opacity:1};return(new mojs.Timeline).add([new mojs.Tween({duration:e,onStart:()=>{[el.i,el.l,el.o,el.v,el.e,el.y,el.o2,el.u].forEach((e=>{e.style.opacity=1,e.style="transform: translate(0px, 0px) rotate(0deg) skew(0deg, 0deg) scale(1, 1); opacity: 1;"}))},onComplete:()=>{[el.l,el.o,el.v,el.e].forEach((e=>e.style.opacity=0)),el.blop.play()}}),new mojs.Tween({duration:2200,onComplete:()=>{[el.y,el.o2].forEach((e=>e.style.opacity=0)),el.blop.play()}}),new mojs.Tween({duration:3250,onComplete:()=>{el.i.style.opacity=0,el.blop.play()}}),new mojs.Tween({duration:3400,onComplete:()=>{el.u.style.opacity=0,el.blup.play()}}),new mojs.Tween({duration:50,delay:4050,onUpdate:e=>{[el.i,el.l,el.o,el.v,el.e,el.y,el.o2,el.u].forEach((t=>{t.style=`transform: translate(0px, 0px) rotate(0deg) skew(0deg, 0deg) scale(1, 1); opacity: ${1*e};`}))},onComplete:()=>{[el.i,el.l,el.o,el.v,el.e,el.y,el.o2,el.u].forEach((e=>{e.style.opacity=1,e.style="transform: translate(0px, 0px) rotate(0deg) skew(0deg, 0deg) scale(1, 1); opacity: 1;"}))}}),new mojs.Html({...a,el:el.lineLeft,x:{0:52}}).then({duration:1200,easing:n,x:{to:106}}).then({duration:1200,easing:n,x:{to:166}}).then({duration:150,easing:n,x:{to:176}}).then({duration:300}).then({duration:350,x:{to:0},easing:l}),new mojs.Html({...a,el:el.lineRight,x:{0:-52}}).then({duration:1200,easing:n,x:{to:-106}}).then({duration:1200,easing:n,x:{to:-166}}).then({duration:150,easing:n,x:{to:-176}}).then({duration:300}).then({duration:350,x:{to:0},easing:l}),new mojs.Html({...a,el:el.i,x:{0:34}}).then({duration:t,easing:o,x:{to:53}}).then({duration:e,easing:n,x:{to:93}}).then({duration:t,easing:o,x:{to:123}}).then({duration:e,easing:n,x:{to:153}}),new mojs.Html({...a,el:el.l,x:{0:15}}),new mojs.Html({...a,el:el.o,x:{0:11}}),new mojs.Html({...a,el:el.v,x:{0:3}}),new mojs.Html({...a,el:el.e,x:{0:-3}}),new mojs.Html({...a,el:el.y,x:{0:-20}}).then({duration:t,easing:o,x:{to:-53}}).then({duration:e,easing:n,x:{to:-77}}),new mojs.Html({...a,el:el.o2,x:{0:-27}}).then({duration:t,easing:o,x:{to:-54}}).then({duration:e,easing:n,x:{to:-84}}),new mojs.Html({...a,el:el.u,x:{0:-32}}).then({duration:t,easing:o,x:{to:-53}}).then({duration:e,easing:n,x:{to:-89}}).then({duration:t,easing:o,x:{to:-120}}).then({duration:e,easing:n,x:{to:-147}}),new mojs.Shape({parent:el.container,shape:"heart",delay:e,fill:el.colHeart,x:-64,scale:{0:.95,easing:easingHeart},duration:500}).then({x:{to:-62,easing:n},scale:{to:.65,easing:n},duration:700}).then({duration:150,x:{to:-14},scale:{to:.9},easing:o}).then({duration:125,scale:{to:.8},easing:l}).then({duration:125,scale:{to:.85},easing:l}).then({duration:800,scale:{to:.45},easing:n}).then({delay:-75,duration:150,x:{to:0},scale:{to:.9},easing:o}).then({duration:125,scale:{to:.8},easing:l}).then({duration:125,scale:{to:.85},easing:l}).then({duration:125}).then({duration:350,scale:{to:0},easing:l}),...crtBoom(e,-64,46),...crtBoom(2200,18,34),...crtBoom(3250,-64,34),...crtBoom(3400,45,34)])},loveTl=crtLoveTl().play();setInterval((()=>{loveTl.replay()}),4300);const volume=.2;el.blup.volume=.2,el.blop.volume=.2;const toggleSound=()=>{let e=!0;return()=>{e?(el.blup.volume=0,el.blop.volume=0,el.sound.classList.add("sound--off")):(el.blup.volume=.2,el.blop.volume=.2,el.sound.classList.remove("sound--off")),e=!e}};el.sound.addEventListener("click",toggleSound());
